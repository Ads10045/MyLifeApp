<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NutriPlus Secure Banner Distribution</title>
    <style>
        body { font-family: 'Inter', sans-serif; background: #020617; color: #f8fafc; padding: 40px; text-align: center; }
        .box { background: #1e293b; border: 1px solid #334155; padding: 20px; border-radius: 12px; margin: 0 auto 30px auto; max-width: 900px; }
        .preview-pane { background: #fff; border-radius: 15px; height: 350px; width: 100%; border: none; margin-top: 20px; box-shadow: 0 20px 25px -5px rgba(0,0,0,0.5); }
        h1 { margin-bottom: 20px; background: linear-gradient(90deg, #38bdf8, #a855f7); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-size: 2.5rem; }
        .label { color: #38bdf8; font-weight: bold; font-size: 0.8rem; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 0.1em; }
        .badge { display: inline-block; background: #065f46; color: #34d399; padding: 4px 12px; border-radius: 9999px; font-size: 0.75rem; font-weight: bold; margin-bottom: 20px; }
        .secure-note { font-size: 0.85rem; color: #94a3b8; font-style: italic; margin-bottom: 20px; }
    </style>
</head>
<body>

    <h1>üîí Secure Banner Distribution</h1>
    <div class="badge">SSR (Server-Side Rendering) ACTIVATED</div>
    
    <div class="secure-note">
        Toutes les requ√™tes SQL et identifiants Neon sont maintenant masqu√©s c√¥t√© serveur. 
        Le client re√ßoit uniquement le HTML final inject√©.
    </div>

    <div class="box">
        <div class="label">Rendu S√©curis√© (Pointant vers /api/banners/render/:id)</div>
        
        <!-- L'iframe appelle directement la route de rendu du backend -->
        <!-- Remplacez par votre URL de production une fois d√©ploy√© sur Render -->
        <iframe src="http://localhost:3000/api/banners/render/0d01cf8e-6cf3-48a4-85d6-97a9f0b37fe7" 
                class="preview-pane"></iframe>
    </div>

    <div class="box">
        <div class="label">Comment l'utiliser hors application ?</div>
        <p style="text-size: 0.9rem; color: #cbd5e1;">
            Il vous suffit d'ins√©rer cette balise <code>&lt;iframe&gt;</code> n'importe o√π sur le web :
        </p>
        <code style="background: #000; padding: 10px; border-radius: 6px; color: #34d399; display: block; margin-top: 10px;">
            &lt;iframe src="https://votre-backend.render.com/api/banners/render/[ID_BANIERE]" style="border:none; width:100%; height:350px;"&gt;&lt;/iframe&gt;
        </code>
    </div>

</body>
</html>
